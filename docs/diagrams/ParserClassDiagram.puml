@startuml

' ===== Parser slice =====

' Core parser interfaces and classes
interface Parser

class ClubTrackParser {
- BASIC_COMMAND_FORMAT : Pattern
+ parseCommand(userInput : String) : Command
}

class ArgumentTokenizer
class ArgumentMultimap {
- argMultimap : Map<Prefix, List<String>>
+ put(prefix : Prefix, argValue : String)
+ Optional<String> getValue(prefix : Prefix)
+ List<String> getAllValues(prefix : Prefix)
+ String getPreamble()
+ verifyNoDuplicatePrefixesFor(prefix...)
}

class Prefix
class ParserUtil
class ParseException

' Representative concrete parsers (implement Parser<T>)
class AddCommandParser
class EditCommandParser
class DeleteCommandParser
class FindCommandParser
class AttendanceCommandParser
class PointsCommandParser
class AddPointsCommandParser
class MinusPointsCommandParser
class TagCommandParser
class SearchCommandParser
class SwitchCommandParser
class RemoveCommandParser
class MarkCommandParser
class UnmarkCommandParser
class UntagCommandParser

' Relationships
Parser <|-- AddCommandParser
Parser <|-- EditCommandParser
Parser <|-- DeleteCommandParser
Parser <|-- FindCommandParser
Parser <|-- AttendanceCommandParser
Parser <|-- PointsCommandParser
Parser <|-- AddPointsCommandParser
Parser <|-- MinusPointsCommandParser
Parser <|-- TagCommandParser
Parser <|-- SearchCommandParser
Parser <|-- SwitchCommandParser
Parser <|-- RemoveCommandParser
Parser <|-- MarkCommandParser
Parser <|-- UnmarkCommandParser
Parser <|-- UntagCommandParser

' ClubTrackParser delegates to concrete parsers
ClubTrackParser --> AddCommandParser
ClubTrackParser --> EditCommandParser
ClubTrackParser --> DeleteCommandParser
ClubTrackParser --> FindCommandParser
ClubTrackParser --> AttendanceCommandParser
ClubTrackParser --> PointsCommandParser
ClubTrackParser --> AddPointsCommandParser
ClubTrackParser --> MinusPointsCommandParser
ClubTrackParser --> TagCommandParser
ClubTrackParser --> SearchCommandParser
ClubTrackParser --> SwitchCommandParser
ClubTrackParser --> RemoveCommandParser
ClubTrackParser --> MarkCommandParser
ClubTrackParser --> UnmarkCommandParser
ClubTrackParser --> UntagCommandParser

' Tokenizer / multimap / prefix relationships
ArgumentTokenizer --> ArgumentMultimap
ArgumentTokenizer --> Prefix
ArgumentMultimap *-- Prefix
ArgumentMultimap ..> ParseException

' ParserUtil dependencies (parsing primitives and model value objects)
ParserUtil ..> ParseException
ParserUtil ..> Name
ParserUtil ..> Phone
ParserUtil ..> Email
ParserUtil ..> Address
ParserUtil ..> Tag

' High-level relationship: Logic slice already references ClubTrackParser
' (LogicClassDiagram shows LogicManager -> ClubTrackParser)

@enduml

